<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.ruoyi.project.system.notice.mapper.NoticeReplyMapper">
    
    <resultMap type="NoticeReply" id="NoticeReplyResult">
        <result property="replyId" column="reply_id"/>
        <result property="noticeId"  column="notice_id"/>
        <result property="replyContent"  column="reply_content"/>
        <result property="status" column="status"/>
        <result property="createTime" column="create_time"/>
    </resultMap>
    
    <sql id="selectNoticeReplyVo">
        select reply_id, notice_id, reply_content, status, create_time from sys_notice_reply
    </sql>
    
   <select id="selectNoticeList" parameterType="NoticeReply" resultMap="NoticeReplyResult">
        <include refid="selectNoticeReplyVo"/>
        <where>
				AND notice_id = #{noticeId}
		</where>
    </select>
    
    
    
    <insert id="insertNoticeReply" parameterType="NoticeReply">
        insert into sys_notice (
			<if test="noticeTitle != null and noticeTitle != '' ">notice_title, </if>
			<if test="noticeType != null and noticeType != '' ">notice_type, </if>
			<if test="noticeContent != null and noticeContent != '' ">notice_content, </if>
			<if test="status != null and status != '' ">status, </if>
			<if test="remark != null and remark != ''">remark,</if>
 			<if test="createBy != null and createBy != ''">create_by,</if>
 			create_time,view_count,reply_count
 		)values(
			<if test="noticeTitle != null and noticeTitle != ''">#{noticeTitle}, </if>
			<if test="noticeType != null and noticeType != ''">#{noticeType}, </if>
			<if test="noticeContent != null and noticeContent != ''">#{noticeContent}, </if>
			<if test="status != null and status != ''">#{status}, </if>
			<if test="remark != null and remark != ''">#{remark},</if>
 			<if test="createBy != null and createBy != ''">#{createBy},</if>
 			sysdate(),0,0
		)
    </insert>
	 
</mapper>